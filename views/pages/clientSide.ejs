<%- include('../partials/header')%>
<div class="container py-5">
  <h2 class="mb-4 text-center fw-bold">Our Products</h2>
  <div class="row g-4">
    <% products.forEach(product => { %>
      <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12">
        <div class="card product-card h-100 border-0 shadow-sm">
          <div class="product-img-container">
            <img src="<%= product.image %>" class="product-img" alt="<%= product.title %>">
          </div>
          <div class="card-body d-flex flex-column">
            <h6 class="card-title text-truncate mb-2"><%= product.title %></h6>
            <p class="price-tag mb-2">â‚¹ <%= product.price %></p>
            <p class="product-description mb-3"><%= product.description %></p>
            <div class="mt-auto text-start">
              <% if(product.category) { %>
                <span class="category-label">Category:</span>
                <span class="badge bg-primary"><%= product.category.name %></span><br>
              <% } %>
              <% if(product.subCategory) { %>
                <span class="category-label">Subcategory:</span>
                <span class="badge bg-success"><%= product.subCategory.name %></span><br>
              <% } %>
              <% if(product.extraCategory) { %>
                <span class="category-label">Extra:</span>
                <span class="badge bg-warning text-dark"><%= product.extraCategory.name %></span>
              <% } %>
            </div>
          </div>
          <div class="card-footer bg-white border-0 text-center pb-3">
            <a href="/product/<%= product._id %>" class="btn btn-primary btn-sm btn-details me-2">View Details</a>
            <a href="/cart/add/<%= product._id %>" class="btn btn-outline-success btn-sm">
              <i class="mdi mdi-cart"></i> Add to Cart
            </a>
          </div>
        </div>
      </div>
    <% }) %>
  </div>
</div>
<%- include('../partials/footer')%>
